<section ng-controller="TeamsController" ng-init="findTeam()">
  <div class="page-header">
    <h1>
      <span ng-bind="mteam.teamName"></span>
    </h1>
    <div ng-if="shouldRender('teamCaptain')||shouldRender('teamMember')" class="list-group">
      <h3>Roster</h3>
      <a ng-repeat="member in mteam.members" class="list-group-item">
        <small class="list-group-item-text">
          <span ng-bind="member.username"></span>
        </small>
        <!-- <h4 class="list-group-item-heading" ng-bind="current.teamName"></h4> -->
      </a>
    </div>
    <div ng-if="shouldRender('user')" class="list-group">
      <div ng-show="askTeams.length">
        <h3>Asked you to join</h3>

        <a ng-repeat="ask in askTeams" class="list-group-item">
          <small class="list-group-item-text">
            <div class="pull-right">
              <button ng-click='userDecline(ask,$index)'>Decline</button>
            </div>
            <div class="pull-right">
              <button ng-click='userAccept(ask,$index)'>Accept</button>
            </div>
            <span ng-bind="ask"></span>
          </small>
          <!-- <h4 class="list-group-item-heading" ng-bind="current.teamName"></h4> -->
        </a>
      </div>
      <div ng-show="requestTeams.length">
        <h3>You requested to join</h3>

        <a ng-repeat="request in requestTeams" class="list-group-item">

          <small class="list-group-item-text">

            <span ng-bind="request.teamName"></span>
          </small>
          <!-- <h4 class="list-group-item-heading" ng-bind="current.teamName"></h4> -->
        </a>
      </div>
    </div>
    <div ng-if="shouldRender('teamCaptain')" class="list-group">
      <h3>Pending invites</h3>
      <a ng-repeat="request in mteam.requestToJoin" class="list-group-item">
        <small class="list-group-item-text">
          <div class="pull-right">
            <button ng-click='decline(request,$index)'>Decline</button>
          </div>
          <div class="pull-right">
            <button ng-click='accept(request,$index)'>Accept</button>
          </div>
          <span ng-bind="request.username"></span>
        </small>
        <!-- <h4 class="list-group-item-heading" ng-bind="current.teamName"></h4> -->
      </a>
    </div>
  </div>
</section>
